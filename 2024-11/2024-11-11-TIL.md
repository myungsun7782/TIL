# 2024-11-11-TIL

안녕하세요.

오늘은 컴퓨터 구조에서 보조기억장치와 입출력장치에 대해 알아보도록 하겠습니다.

# 보조기억장치와 입출력장치

- 보조기억장치는 메모리의 휘발성을 보완하는 동시에, 메모리보다 큰 저장 공간을 제공함

## RAID

- 오늘날 대중적으로 활용되고 있는 보조기억장치는 크게 2가지

  - 하드 디스크 드라이브(이하 하드 디스크)(HDD, Hard Disk Drive)
    - 자기적인 방식으로 데이터를 읽고 쓰는 보조기억장치

  

  <img width="333" alt="image" src="https://github.com/user-attachments/assets/9c01ae84-26d2-4727-87e6-a7fefa79bdd6">

  (그림 출처: 이것이 취업을 위한 컴퓨터과학이다)

  - 플래시 메모리 기반 저장장치
    - 전기적인 방식으로 데이터를 읽고 쓰는 반도체 기반의 저장장치
    - 우리가 흔히 사용하는 USB 메모리나 SD카드, SSD가 모두 플래시 메모리 기반 저장장치라고 할 수 있으며, 이 중 보조기억장치로 주로 사용되는 플래시 메모리는 **SSD(Solid-State Drvie)**임.

- 보조기억장치의 역할
  - 전원이 꺼져도 데이터를 안전하게 보관하는 것
  - CPU가 필요로 하는 정보를 조금이라도 빠른 성능으로 메모리에 전달하는 것. 즉, 보조기억장치의 데이터를 안전하고 빠르게 다룰 수 있는 방법이 중요한 것. 이를 위해 사용할 수 있는 기술이 **RAID(Redundant Array of independent Disks)**
- **RAID(Redundant Array of independent Disks)**
  - 데이터의 안전성 혹은 성능을 확보하기 위해 여러 개의 독립적인 보조기억장치를 마치 하나의 보조기억장치처럼 사용하는 기술을 의미
  - 앞서 설명한 하드 디스크나 SSD로 RAID를 구성할 수 있음

### RAID를 구성하는 방법

- RAID를 구성하는 방법에는 여러 가지가 있으며 RAID 레벨이라고 표현함.
- RAID0, RAID1, RAID2, RAID3, RAID4, RAID5, RAID6이 대표적이며, 그로부터 RAID10, RAID50 등이 파생되었음.

#### RAID0

- 데이터를 여러 보조기억장치에 단순하게 나누어 저장하는 구성 방식

<img width="834" alt="image" src="https://github.com/user-attachments/assets/dbfcc31d-9020-4aa5-83d1-20b485ba9c9b">

(그림 출처: 이것이 취업을 위한 컴퓨터과학이다)

- 저장되는 데이터가 하드 디스크이 개수만큼 나뉘어 저장되어 있음
- 마치 줄무니처럼 분산되어 저장된 데이터를 스트라입(stripe)이라고 하고, 이렇게 분산하여 저장하는 동작을 **스트라이핑(striping)**이라고 함.
- RAID0의 **장점**은 빠른 입출력 속도임. 하나의 대용량 저장장치를 이용했다면 여러 번에 걸쳐서 읽고 써야 했을 데이터를 한 번에, 동시에 읽고 쓸 수 있기 때문임. 
  - 가령 위 그림과 같이 저장된 상태에서 데이터 A1, A2, A3, A4를 동시에 읽어 들이면 하드 디스크 1~4에서 동시에, 한 번에 읽어들일 수 있음. 그렇기 때문에 4TB인 저장장치 1개를 읽고 쓰는 속도보다 RAID0으로 구성된 1TB인 저장장치 4개의 속도가 이론상 4배 가량 빠름
- RAID0의 **단점**은 **저장된 정보가 안전하지 않다는 것**임. 만약, 위 그림의 하드 디스크1에 문제가 생긴다면 하드 디스크2, 3, 4에 저장된 데이터는 불완전한 데이터가 됩니다.

#### RAID1

- **완전한 복사본을 만들어 저장하는 구성 방식**. 그래서 미러링(mirroring)이라고도 부름
- RAID1은 복구가 간단하고 안전성이 높다는 장점이 있음
  - 다만, RAID1에 어떤 데이터를 쓸 때는 원본과 복사본 두 곳에 써야하기 때문에 RAID0보다 쓰기 속도가 느려집니다.
  - RAID1은 복사본이 저장된 크기만큼 **사용 가능한 용량이 적어진다**는 단점도 있음

<img width="787" alt="image" src="https://github.com/user-attachments/assets/5ec3dd43-ee8c-45db-b9ef-851fdec177c7">

(그림 출처: 이것이 취업을 위한 컴퓨터과학이다)

#### RAID4

- 패리티 정보를 저장하는 디스크를 따로 두는 구성 방식
  - **패리티** => 오류를 검출할 수 있는 정보를 말함
- RAID4를 통해 오류 검출용 장치를 따로 두면 RAID1에 비해 적은 하드 디스크로도 안전하게 데이터를 보관할 수 있음
- RAID4 단점
  - 패리티를 저장하는 장치에 병목 현상이 발생한다는 것.
  - 어떤 새로운 데이터가 저장될 때마다 패리티를 저장하는 디스크에도 데이터를 쓰게 되므로 하드 디스크4에도 쓰기 작업을 해야 함. 굉장히 바빠진 하드 디스크4가 병목 지점이 될 수 있다는 것

<img width="820" alt="image" src="https://github.com/user-attachments/assets/ea6b78db-e944-4cf0-a6a6-e641a009f8de">

(그림 출처: 이것이 취업을 위한 컴퓨터과학이다)

#### RAID5

- **패리티를 분산하여 저장하는 구성 방식**
- 다음과 같이 패리티를 분산 저장하면 RAID4의 단점인 병목 현상을 보완할 수 있음

<img width="645" alt="image" src="https://github.com/user-attachments/assets/5e1a3c2a-0a69-494c-8a13-64d4d0695a64">

(그림 출처: 이것이 취업을 위한 컴퓨터과학이다)

#### RAID6

- RAID6 구성은 기본적으로 RAID5와 같지만, 다음과 같이 **서로 다른 2개의 패리티를 두는 구성 방식**임
- **오류를 검출하고 복구할 수 있는 수단이 2개가 생긴 셈**
- 따라서, RAID6은 RAID4나 RAID5에 비해 안정성이 높음. 다만, 새로운 정보를 저장할 때마다 저장할 패리티가 2개이므로 RAID5에 비해 쓰기 속도는 일반적으로 느림

<img width="794" alt="image" src="https://github.com/user-attachments/assets/2cf51711-9ba5-43c4-9a7c-fbde8e9ecec9">

(그림 출처: 이것이 취업을 위한 컴퓨터과학이다)

---

이처럼 RAID 레벨마다 각기 다른 장단점이 있기 때문에 어떤 상황에서 무엇을 최우선으로 원하는 지에 따라 최적의 RAID 레벨의 대략적인 구성과 특징을 알고 있는 것이 중요함.

<br/>

<br/>

오늘 공부한 내용은 여기까지 입니다.

읽어주셔서 감사합니다.